name: gamescope
config-opts:
  - --wrap-mode=nodownload
build-options:
  libdir: lib/x86_64-linux-gnu
buildsystem: meson
sources:
  - type: git
    url: https://github.com/Plagman/gamescope.git
    tag: 3.11.48
    commit: f072cbd58b0ab373f486bf1647b7acd0ffce8f0d
    disable-shallow-clone: true
    x-checker-data:
      type: git
      tag-pattern: ^([\d.]+)$
      is-main-source: true
  - type: git
    url: https://github.com/nothings/stb.git
    branch: master
    commit: 8b5f1f37b5b75829fc72d38e7b5d4bcbf8a26d55 # Should be updated when updating gamescope
    dest: subprojects/stb
  - type: shell
    commands:
      - install -t subprojects/stb subprojects/packagefiles/stb/*

modules:
  - modules/libinput/libinput.json
  - modules/xwayland/xwayland.yml
  - modules/libseat/libseat.yml
